<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Firebase + ImageKit Foto YÃ¼kleme</title>
    <meta name="description" content="GÃ¼venli ve optimize foto yÃ¼kleme uygulamasÄ± - Firebase + ImageKit entegrasyonu">
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay hidden">
        <div class="loading-spinner"></div>
        <p>Ä°ÅŸleniyor...</p>
    </div>

    <!-- Header -->
    <header class="header">
        <div class="container">
            <h1 class="logo">ðŸ“¸ Foto YÃ¼kleme</h1>
            <div class="header-actions">
                <div id="user-info" class="user-info hidden">
                    <span id="user-email"></span>
                    <button id="logout-btn" class="btn btn-secondary">Ã‡Ä±kÄ±ÅŸ</button>
                </div>
            </div>
        </div>
    </header>

    <main class="main">
        <div class="container">
            
            <!-- Login Form -->
            <div id="login-section" class="auth-section">
                <div class="auth-card">
                    <h2>Admin GiriÅŸi</h2>
                    <p class="auth-subtitle">FotoÄŸraf yÃ¼klemek iÃ§in Firebase'de oluÅŸturduÄŸunuz admin hesabÄ±yla giriÅŸ yapÄ±n</p>
                    
                    <form id="login-form" class="auth-form">
                        <div class="form-group">
                            <label for="email">Admin Email:</label>
                            <input type="email" id="email" required placeholder="Demo: demo@test.com veya Firebase admin email">
                        </div>
                        
                        <div class="form-group">
                            <label for="password">Admin Åžifre:</label>
                            <input type="password" id="password" required placeholder="Demo: demo123 veya Firebase admin ÅŸifre">
                        </div>
                        
                        <button type="submit" class="btn btn-primary" data-testid="button-login">
                            GiriÅŸ Yap
                        </button>
                    </form>
                    
                    <div id="login-error" class="error-message hidden"></div>
                </div>
            </div>

            <!-- Upload Section -->
            <div id="upload-section" class="upload-section hidden">
                
                <!-- Upload Card -->
                <div class="upload-card">
                    <h2>FotoÄŸraf YÃ¼kleme</h2>
                    <p class="upload-subtitle">FotoÄŸrafÄ±nÄ±zÄ± seÃ§in, otomatik olarak optimize edilecek</p>
                    
                    <!-- File Input -->
                    <div class="file-input-container">
                        <input type="file" id="file-input" accept="image/jpeg,image/jpg,image/png,image/webp" data-testid="input-file">
                        <label for="file-input" class="file-input-label">
                            <svg class="file-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                                <circle cx="8.5" cy="8.5" r="1.5"/>
                                <polyline points="21,15 16,10 5,21"/>
                            </svg>
                            <span>FotoÄŸraf SeÃ§</span>
                        </label>
                    </div>
                    
                    <!-- File Info -->
                    <div id="file-info" class="file-info hidden">
                        <div class="file-details">
                            <div class="file-name" data-testid="text-filename"></div>
                            <div class="file-meta">
                                <span class="file-size" data-testid="text-filesize"></span>
                                <span class="file-type" data-testid="text-filetype"></span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Preview -->
                    <div id="preview-container" class="preview-container hidden">
                        <h3>Ã–nizleme:</h3>
                        <div class="preview-wrapper">
                            <img id="preview-image" class="preview-image" alt="FotoÄŸraf Ã¶nizlemesi" data-testid="img-preview">
                            <div class="preview-overlay">
                                <div class="optimization-info">
                                    <span class="optimization-badge" data-testid="text-optimization">Optimize Edilecek</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Upload Button -->
                    <button id="upload-btn" class="btn btn-primary btn-large hidden" data-testid="button-upload">
                        <svg class="btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                            <polyline points="7,10 12,15 17,10"/>
                            <line x1="12" y1="15" x2="12" y2="3"/>
                        </svg>
                        YÃ¼kle
                    </button>
                    
                    <!-- Progress Bar -->
                    <div id="progress-container" class="progress-container hidden">
                        <div class="progress-bar">
                            <div id="progress-fill" class="progress-fill"></div>
                        </div>
                        <div class="progress-text">
                            <span id="progress-percent" data-testid="text-progress">0%</span>
                            <span id="progress-status" data-testid="status-upload">BaÅŸlÄ±yor...</span>
                        </div>
                    </div>
                </div>
                
                <!-- Success Result -->
                <div id="result-section" class="result-section hidden">
                    <div class="result-card success">
                        <div class="result-icon success">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <path d="9 12l2 2 4-4"/>
                                <circle cx="12" cy="12" r="10"/>
                            </svg>
                        </div>
                        <h3>YÃ¼kleme BaÅŸarÄ±lÄ±! ðŸŽ‰</h3>
                        <p>FotoÄŸrafÄ±nÄ±z baÅŸarÄ±yla yÃ¼klendi ve optimize edildi.</p>
                        
                        <div class="result-details">
                            <div class="result-url">
                                <label>CDN URL:</label>
                                <div class="url-container">
                                    <input type="text" id="result-url" readonly data-testid="text-result-url">
                                    <button id="copy-url-btn" class="btn btn-icon" data-testid="button-copy-url" title="URL'yi kopyala">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                                            <path d="5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                            
                            <div class="result-optimizations">
                                <h4>Optimizasyonlar:</h4>
                                <ul id="optimization-list" data-testid="text-optimizations">
                                    <!-- Optimizasyon detaylarÄ± dinamik olarak eklenecek -->
                                </ul>
                            </div>
                        </div>
                        
                        <div class="result-preview">
                            <img id="result-image" class="result-image" alt="YÃ¼klenen fotoÄŸraf" data-testid="img-result">
                        </div>
                        
                        <button id="upload-another-btn" class="btn btn-primary" data-testid="button-upload-another">
                            BaÅŸka FotoÄŸraf YÃ¼kle
                        </button>
                    </div>
                </div>
                
                <!-- Error Result -->
                <div id="error-section" class="result-section hidden">
                    <div class="result-card error">
                        <div class="result-icon error">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <circle cx="12" cy="12" r="10"/>
                                <line x1="15" y1="9" x2="9" y2="15"/>
                                <line x1="9" y1="9" x2="15" y2="15"/>
                            </svg>
                        </div>
                        <h3>YÃ¼kleme BaÅŸarÄ±sÄ±z</h3>
                        <p id="error-message" data-testid="text-error-message">Bir hata oluÅŸtu.</p>
                        
                        <button id="retry-btn" class="btn btn-primary" data-testid="button-retry">
                            Tekrar Dene
                        </button>
                    </div>
                </div>
                
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2024 Firebase + ImageKit Foto YÃ¼kleme. TÃ¼m haklarÄ± saklÄ±dÄ±r.</p>
            <div class="footer-links">
                <a href="#" class="footer-link">Gizlilik</a>
                <a href="#" class="footer-link">KullanÄ±m KoÅŸullarÄ±</a>
                <a href="#" class="footer-link">Destek</a>
            </div>
        </div>
    </footer>

    <!-- Toast Notifications -->
    <div id="toast-container" class="toast-container"></div>

    <!-- Scripts -->
    <script src="firebase-config.js"></script>
    <script src="image-utils.js"></script>
    <script src="auth.js"></script>
    <script src="app.js"></script>
</body>
</html>